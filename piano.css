body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #1e1e1e;
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    color: white;
}

.main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: #2d2d2d;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.9);
    width: 800px;
}

.controls { width: 100%; text-align: center; margin-bottom: 20px; }
h1 { margin-top: 0; font-weight: 300; color: #fff; }

.control-row { margin-bottom: 15px; }

select, input[type="text"] {
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #555;
    background: #444;
    color: white;
    font-size: 1rem;
}

button {
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    color: white;
    margin-left: 5px;
    transition: opacity 0.2s;
}
button:hover { opacity: 0.9; }

.btn-primary { background-color: #3498db; }
.btn-success { background-color: #2ecc71; }
.btn-save { background-color: #f39c12; }
.btn-danger { background-color: #e74c3c; font-size: 0.9rem; padding: 8px 10px;}

.custom-song-area {
    background: #3a3a3a;
    padding: 10px;
    border-radius: 8px;
    margin: 15px 0;
}
.custom-song-area p { margin: 5px 0; font-size: 0.9rem; color: #bbb; }
.input-group { display: flex; gap: 5px; justify-content: center; }
#customInput { width: 50%; }

/* Sheet Music Scroll */
.sheet-music-container {
    width: 100%;
    height: 90px;
    background: #fff;
    border-radius: 8px;
    margin-bottom: 20px;
    overflow-x: auto;
    border: 4px solid #444;
    display: flex;
    align-items: center;
}

.sheet-scroll {
    display: flex;
    padding: 0 20px;
    gap: 10px;
    min-width: 100%;
}

.sheet-note {
    min-width: 40px; height: 50px; background: #eee; color: #333;
    display: flex; justify-content: center; align-items: center;
    border-radius: 5px; border: 1px solid #ccc; font-weight: bold;
}
.sheet-note.current { background: #e74c3c; color: white; transform: scale(1.15); border: 2px solid #c0392b; }
.sheet-note.passed { background: #ddd; color: #aaa; }
.empty-state { color: #888; width: 100%; text-align: center; font-style: italic; }

/* Piano Keys */
.piano { display: flex; position: relative; padding: 10px; background: #222; border-radius: 8px; }
.key { border-radius: 0 0 5px 5px; cursor: pointer; user-select: none; position: relative; display: flex; justify-content: center; align-items: flex-end; padding-bottom: 10px; font-weight: bold; }
.white { width: 45px; height: 180px; background: white; color: #333; border: 1px solid #aaa; z-index: 1; }
.black { width: 30px; height: 110px; background: black; color: white; position: absolute; top: 10px; z-index: 2; pointer-events: none; pointer-events: auto; }

/* Positioning */
.key[data-note="C#3"] { left: 35px; } .key[data-note="D#3"] { left: 80px; } .key[data-note="F#3"] { left: 170px; } .key[data-note="G#3"] { left: 215px; } .key[data-note="A#3"] { left: 260px; }
.key[data-note="C#4"] { left: 350px; } .key[data-note="D#4"] { left: 395px; } .key[data-note="F#4"] { left: 485px; } .key[data-note="G#4"] { left: 530px; } .key[data-note="A#4"] { left: 575px; }

.white:active, .white.active { background: #3498db; }
.black:active, .black.active { background: #3498db; }
.key.guide { background: #f1c40f !important; }